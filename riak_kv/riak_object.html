<!DOCTYPE html>
<html lang="en">

  <head>
    <meta charset="latin1" />
    <title>riak_object (riak_kv) -  - erldocs.com (Erlang Documentation)</title>
    <link type="text/css" rel="stylesheet" href="../erldocs.css" />
  </head>
  <body>

    <div id="sidebar" class="inactive">
      <input type="text" id="search" autocomplete="off"
             placeholder="press TAB to search" />
      <ul id="results"> </ul>
    </div>

    <div id="content">
      <div style="margin:0px; padding:10px 20px;">
        

<h1>riak_object</h1>
<h2 class="modsummary">container for Riak data and metadata.</h2>
<div class="description">
<p>container for Riak data and metadata</p></div>
<div class="functions"><h4>Functions</h4><hr  />
<div class="function">
<h3 id="ancestors/1">ancestors(Objects::[riak_object()]) -&gt; [riak_object()]</h3>


<div class="description"><span id="ancestors-1"> </span>

<p> Given a list of riak_object()s, return the objects that are pure
        ancestors of other objects in the list, if any.  The changes in the
        objects returned by this function are guaranteed to be reflected in
        the other objects in Objects, and can safely be discarded from the list
        without losing data.</p>
</div></div>
<div class="function">
<h3 id="apply_updates/1">apply_updates(Object::riak_object()) -&gt; riak_object()</h3>


<div class="description"><span id="apply_updates-1"> </span>

<p> Promote pending updates (made with the update_value() and
        update_metadata() calls) to this riak_object.</p>
</div></div>
<div class="function">
<h3 id="bucket/1">bucket(R_object::riak_object()) -&gt; bucket()</h3>


<div class="description"><span id="bucket-1"> </span>

<p>Return the containing bucket for this riak_object.</p>
</div></div>
<div class="function">
<h3 id="equal/2">equal(Obj1, Obj2) -&gt; term()
</h3>


<div class="description"><span id="equal-2"> </span>

<p>Deep (expensive) comparison of Riak objects.</p>
</div></div>
<div class="function">
<h3 id="from_json/1">from_json(Obj) -&gt; term()
</h3>


<div class="description"><span id="from_json-1"> </span>
 </div></div>
<div class="function">
<h3 id="get_contents/1">get_contents(R_object::riak_object()) -&gt; [{dict(), value()}]</h3>


<div class="description"><span id="get_contents-1"> </span>

<p> Return the contents (a list of {metadata, value} tuples) for
        this riak_object.</p>
</div></div>
<div class="function">
<h3 id="get_metadata/1">get_metadata(O::riak_object()) -&gt; dict()</h3>


<div class="description"><span id="get_metadata-1"> </span>

<p> Assert that this riak_object has no siblings and return its associated
        metadata.  This function will fail with a badmatch error if the
        object has siblings (value_count() &gt; 1).</p>
</div></div>
<div class="function">
<h3 id="get_metadatas/1">get_metadatas(R_object::riak_object()) -&gt; [dict()]</h3>


<div class="description"><span id="get_metadatas-1"> </span>

<p> Return a list of the metadata values for this riak_object.</p>
</div></div>
<div class="function">
<h3 id="get_update_metadata/1">get_update_metadata(R_object::riak_object()) -&gt; dict()</h3>


<div class="description"><span id="get_update_metadata-1"> </span>

<p> Return the updated metadata of this riak_object.</p>
</div></div>
<div class="function">
<h3 id="get_update_value/1">get_update_value(R_object::riak_object()) -&gt; value()</h3>


<div class="description"><span id="get_update_value-1"> </span>

<p> Return the updated value of this riak_object.</p>
</div></div>
<div class="function">
<h3 id="get_value/1">get_value(Object::riak_object()) -&gt; value()</h3>


<div class="description"><span id="get_value-1"> </span>

<p> Assert that this riak_object has no siblings and return its associated
        value.  This function will fail with a badmatch error if the object
        has siblings (value_count() &gt; 1).</p>
</div></div>
<div class="function">
<h3 id="get_values/1">get_values(R_object::riak_object()) -&gt; [value()]</h3>


<div class="description"><span id="get_values-1"> </span>

<p> Return a list of object values for this riak_object.</p>
</div></div>
<div class="function">
<h3 id="increment_vclock/2">increment_vclock(Object, ClientId) -&gt; term()
</h3>


<div class="description"><span id="increment_vclock-2"> </span>

<p> Increment the entry for ClientId in O's vclock.</p>
</div></div>
<div class="function">
<h3 id="key/1">key(R_object::riak_object()) -&gt; key()</h3>


<div class="description"><span id="key-1"> </span>

<p> Return the key for this riak_object.</p>
</div></div>
<div class="function">
<h3 id="merge/1">merge(OldObject::riak_object(), NewObject::riak_object()) -&gt; riak_object()</h3>


<div class="description"><span id="merge-2"> </span>

<p> Merge the contents and vclocks of OldObject and NewObject.
        Note:  This function calls apply_updates on NewObject.</p>
</div></div>
<div class="function">
<h3 id="new/3">new(B, K, V) -&gt; term()
</h3>


<div class="description"><span id="new-3"> </span>

<p>Constructor for new riak objects.</p>
</div></div>
<div class="function">
<h3 id="new/4">new(B, K, V, C) -&gt; term()
</h3>


<div class="description"><span id="new-4"> </span>

<p>Constructor for new riak objects with an initial content-type.</p>
</div></div>
<div class="function">
<h3 id="reconcile/1">reconcile(Objects::[riak_object()], AllowMultiple::boolean()) -&gt; riak_object()</h3>


<div class="description"><span id="reconcile-2"> </span>

<p> Reconcile a list of riak objects.  If AllowMultiple is true,
        the riak_object returned may contain multiple values if Objects
        contains sibling versions (objects that could not be syntactically
        merged).   If AllowMultiple is false, the riak_object returned will
        contain the value of the most-recently-updated object, as per the
        X-Riak-Last-Modified header.</p>
</div></div>
<div class="function">
<h3 id="set_contents/1">set_contents(Object::riak_object(), MVs::[{dict(), value()}]) -&gt; riak_object()</h3>


<div class="description"><span id="set_contents-2"> </span>

<p> INTERNAL USE ONLY.  Set the contents of riak_object to the
        {Metadata, Value} pairs in MVs. Normal clients should use the
        set_update_[value|metadata]() + apply_updates() method for changing
        object contents.</p>
</div></div>
<div class="function">
<h3 id="set_vclock/1">set_vclock(Object::riak_object(), VClock::vclock() (see module vclock)) -&gt; riak_object()</h3>


<div class="description"><span id="set_vclock-2"> </span>

<p> INTERNAL USE ONLY.  Set the vclock of riak_object O to V.</p>
</div></div>
<div class="function">
<h3 id="syntactic_merge/3">syntactic_merge(CurrentObject, NewObject, FromClientId) -&gt; term()
</h3>


<div class="description"><span id="syntactic_merge-3"> </span>
 </div></div>
<div class="function">
<h3 id="to_json/1">to_json(Obj::riak_object()) -&gt; {struct, list(any())}</h3>


<div class="description"><span id="to_json-1"> </span>

<p>Converts a riak_object into its JSON equivalent</p>
</div></div>
<div class="function">
<h3 id="update_metadata/1">update_metadata(Object::riak_object(), M::dict()) -&gt; riak_object()</h3>


<div class="description"><span id="update_metadata-2"> </span>

<p> Set the updated metadata of an object to M.</p>
</div></div>
<div class="function">
<h3 id="update_value/1">update_value(Object::riak_object(), V::value()) -&gt; riak_object()</h3>


<div class="description"><span id="update_value-2"> </span>

<p> Set the updated value of an object to V</p>
</div></div>
<div class="function">
<h3 id="value_count/1">value_count(R_object::riak_object()) -&gt; non_neg_integer()</h3>


<div class="description"><span id="value_count-1"> </span>

<p> Return the number of values (siblings) of this riak_object.</p>
</div></div>
<div class="function">
<h3 id="vclock/1">vclock(R_object::riak_object()) -&gt; vclock() (see module vclock)</h3>


<div class="description"><span id="vclock-1"> </span>

<p> Return the vector clock for this riak_object.</p>
</div></div></div>

<authors>
<aname> </aname>
<email> </email></authors>
      </div>
      <div id="funwrapper">
        <a id="viewfuns">View Functions</a>
        <ul id="funs"><li><a href="#ancestors/1">ancestors/1</a></li><li><a href="#apply_updates/1">apply_updates/1</a></li><li><a href="#bucket/1">bucket/1</a></li><li><a href="#equal/2">equal/2</a></li><li><a href="#from_json/1">from_json/1</a></li><li><a href="#get_contents/1">get_contents/1</a></li><li><a href="#get_metadata/1">get_metadata/1</a></li><li><a href="#get_metadatas/1">get_metadatas/1</a></li><li><a href="#get_update_metadata/1">get_update_metadata/1</a></li><li><a href="#get_update_value/1">get_update_value/1</a></li><li><a href="#get_value/1">get_value/1</a></li><li><a href="#get_values/1">get_values/1</a></li><li><a href="#increment_vclock/2">increment_vclock/2</a></li><li><a href="#key/1">key/1</a></li><li><a href="#merge/1">merge/1</a></li><li><a href="#new/3">new/3</a></li><li><a href="#new/4">new/4</a></li><li><a href="#reconcile/1">reconcile/1</a></li><li><a href="#set_contents/1">set_contents/1</a></li><li><a href="#set_vclock/1">set_vclock/1</a></li><li><a href="#syntactic_merge/3">syntactic_merge/3</a></li><li><a href="#to_json/1">to_json/1</a></li><li><a href="#update_metadata/1">update_metadata/1</a></li><li><a href="#update_value/1">update_value/1</a></li><li><a href="#value_count/1">value_count/1</a></li><li><a href="#vclock/1">vclock/1</a></li></ul>
      </div>
    </div>

    <script type="text/javascript">
      var CURRENT_ROOT = "../";
    </script>

    <script type="text/javascript" src="../jquery.js"></script>
    <script type="text/javascript" src="../erldocs_index.js"></script>
    <script type="text/javascript" src="../erldocs.js"></script>

    <script type="text/javascript">
      var _gaq = _gaq || [];
      _gaq.push(['_setAccount', 'UA-59760-14']);
      _gaq.push(['_trackPageview']);

      (function() {
        var ga = document.createElement('script');
        ga.src = ('https:' == document.location.protocol ?
          'https://ssl' : 'http://www') +
          '.google-analytics.com/ga.js';
        ga.setAttribute('async', 'true');
        document.documentElement.firstChild.appendChild(ga);
      })();
    </script>
  </body>
</html>

